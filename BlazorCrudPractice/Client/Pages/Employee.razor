@page "/Employee"
@inherits EmployeeBase
@using System.Net.Http.Json

<PageTitle>Employee Registration</PageTitle>

<h1>Employee</h1>

<div>
    <div>
        <EditForm Model="EmployeeModels" OnSubmit="M_SaveEmployee">
            <DataAnnotationsValidator></DataAnnotationsValidator>

            <div class="mb-3">
                <label for="firstname">First Name</label>
                <InputText @bind-Value="EmployeeModels.EmployeeName" class="form-control"></InputText>
                <ValidationMessage For="@(() => EmployeeModels.EmployeeName)" />
            </div>
            <div class="mb-3">
                <label for="firstname">Middle Name</label>
                <InputText @bind-Value="EmployeeModels.EmployeeMiddleName" class="form-control">
                    <ValidationMessage For="@(() => EmployeeModels.EmployeeMiddleName)" />
                </InputText>
            </div>
            <div class="mb-3">
                <label for="firstname">Last Name</label>
                <InputText @bind-Value="EmployeeModels.EmployeeLastName" class="form-control"></InputText>
                <ValidationMessage For="@(() => EmployeeModels.EmployeeLastName)" />
            </div>
            <div class="mb-3">
                <label for="firstname">Age</label>
                <InputNumber @bind-Value="EmployeeModels.EmployeeAge" class="form-control"></InputNumber>
                <ValidationMessage For="@(() => EmployeeModels.EmployeeAge)" />
            </div>
            <div class="mb-3">
                <label for="firstname">Date Of Birth</label>
                <InputDate @bind-Value="EmployeeModels.EmployeeDateOfBirth" class="form-control"></InputDate>
                
            </div>
            <div class="mb-3">
                <button type="submit" class="btn btn-primary">
                    @*  <i class="oi oi-cloud-upload"></i> *@
                    SAVE
                </button>

            </div>


        </EditForm>
    </div>
    @*     <button class="btn btn-primary" @onclick="M_UpdateEmployee">
    UPDATE
    </button> *@
    <div>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th>Age</th>
                    <th>Date Of Birth</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var employee in Employee)
                {
                    <tr>
                        <td>@employee.EmployeeName</td>
                        <td>@employee.EmployeeMiddleName</td>
                        <td>@employee.EmployeeLastName</td>
                        <td>@employee.EmployeeAge</td>
                        <td>@employee.EmployeeDateOfBirthStr</td>
                        <td>
                            <button class="btn btn-primary" @onclick="@(() =>M_GetEmployeeById(@employee.RecId))">
                                Edit

                            </button>
                            <button class="btn btn-primary" @onclick="@(() =>M_DeleteEmployee(@employee.RecId))">
                                DELETE
                            </button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


